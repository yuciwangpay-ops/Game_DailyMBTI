<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>時間分配助手</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
    <h2 id="welcome">載入中...</h2>
    <p>請選擇當前任務：</p>
    <button onclick="sendTime('工作')">💻 工作</button>
    <button onclick="sendTime('休息')">☕ 休息</button>

    <script>
        async function main() {
            // 初始化 LIFF，填入你在後台申請的 LIFF ID
            await liff.init({ liffId: "2008941439-M9ODe8F0" }); 
            if (liff.isLoggedIn()) {
                const profile = await liff.getProfile();
                document.getElementById('welcome').innerText = "嗨, " + profile.displayName;
            } else {
                liff.login(); // 引導登入
            }
        }

        function sendTime(task) {
            // 把結果傳回 LINE 對話框
            liff.sendMessages([{
                type: 'text',
                text: "我開始進行：" + task
            }]).then(() => {
                liff.closeWindow(); // 傳送完自動關閉
            });
        }
        main();
    </script>
</body>
</html>
